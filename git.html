<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Git</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Git</h1>
    <ul>
        <li>
            <a href="index.html">Главная</a>
        </li>
        <li>
            <a href="html.html">HTML</a>
        </li>
        <li>
            <a href="about.html">О сайте</a>
        </li>
        <li>
            <a href="css.html">CSS</a>
        </li>
    </ul>
    <p>
    <h2>Команды git</h2>
    <ul>
        <li>git --version - вывести текущую версию Git</li>
        <li>git init - Создать пустой репозиторий Git или вновь инициализировать существующий</li>
        <li>git add "имя файла"(или.) - добавить файл или несколько файлов в черновую зону следующего коммита</li>
        <li>git commit -m "комментарий" создать коммит с комментарием</li>
        <li>git status - показывает состояние рабочего каталога и статус черновой зоны</li>
        <li>git log - показывает историю всех коммитов текущей ветки</li>

        <li>git tag 1.0 адрес_коммита - присвоить тэг "1.0" коммиту по адресу (позволяет работать с тегом, а не с
            адресом коммита)</li>
        <li>git tag - вывести все теги</li>
        <li>git show 1.0 - показать коммит с тэгом "1.0"</li>
        <li>git checkout 1.0 - перейти в ветку с тегом "1.0"</li>
        <li>git tag -d 1.0 - удалить тэг "1.0"</li>
        <li>git tag -a 2.0 -m "последняя версия" - добавить аннотированный тег "2.0" с комментарием</li>

        <li>git branch - просмотреть список всех веток в текущем репозитории</li>
        <li>git branch "имя ветки" - добавить в гит новую ветку "имя ветки"</li>
        <li>git switch "имя ветки (или коммита)" - перейти в ветку с именем "имя ветки"</li>
        <li>git switch -c "имя ветки" - добавить в гит новую ветку "имя ветки" и перейти в неё</li>
        <li>git checkout "имя ветки (или коммита)" - перейти в ветку с именем "имя ветки" (сместить указатель)</li>
        <li>git checkout -b "имя ветки" - добавить в гит новую ветку "имя ветки" и перейти в неё</li>
        <li>git merge "имя ветки" слить текущую ветку (где сейчас находится указатель) с веткой "имя ветки"</li>
        <li>git merge --squash "имя ветки" слить текущую ветку (где сейчас находится указатель) с веткой "имя ветки".
            Fast-forward слияние. После него надо сделать коммит слияния.</li>
        <li>git merge --abort Прервать слияние</li>
        <li>git diff - Проблемные места при слиянии</li>
        <li>git cherry-pick "идентификатор коммита" - добавляет копию коммита "идентификатор коммита" в текущую ветку
        </li>

        <li>git ls-files - проверить, какие файлы находятся в черновой зоне</li>

        <li>git checkout "имя файла" - откатить файл к состоянию последнего коммита (удалить из черновой зоны)</li>
        <li>git restore "имя файла" - откатить файл к состоянию последнего коммита (удалить из черновой зоны)</li>
        <li>git checkout . - откатить все файлы в текущей ветке к состоянию последнего коммита</li>
        <li>git restore . - откатить все файлы в текущей ветке к состоянию последнего коммита</li>
        <li>git clean -dn - показывает файлы, которые будут удалены при возврате к состоянию последнего коммита</li>
        <li>git clean -df - удаляет показанные после предыдущей команды файлы (те, которые были добавлены в текущей
            ветке до коммита)</li>
        <li>git reset HEAD ~1 - удаляет последний коммит, указатель откатывается на 1 шаг назад, изменения удаляются из
            черновой области. При этом, изменения всё ещё есть в рабочей директории</li>
        <li>git reset --hard HEAD~1 - полностью удаляет все изменения (включая файлы), сделанные после определённого
            коммита</li>
        <li>git branch -d "название ветки" - удалить ветку, если ветка уже слита</li>
        <li>git branch -D "название ветки" - удалить ветку принудительно</li>
        <li>git branch datached-head de0a26b - создание новой ветки, используя идентификатор смещенного указателя
            (способ сместить указатель и создать новую ветку с изменениями)</li>

        <h3>Отмена подготовленных изменений:</h3>
        <li>1. git reset "имя файла" - убрать изменение из черновой области. Подготовленные изменения становятся
            неподготовленными</li>
        <li>(или git restore --staged "имя файла")</li>
        <li>2. git checkout "имя файла" - возврат в начальное состояние (убирает неподготовленные изменения)</li>

        <h3>Способ восстановить удаленный коммит:</h3>
        <li>1. git reflog - показать все изменения в данной ветке (историю изменений за последние 14 дней)</li>
        <li>2. git reset --hard 54f1947 - способ возврата удаленного коммита. Сбрасывает ветку до состояния коммита с
            индексом "54f1947" (индекс получен с помощью "git reflog")</li>

        <h3>Способ восстановить удаленную ветку:</h3>
        <li>1. git reflog</li>
        <li>2. git checkout 54f1947 - перейти в состояние коммита с хэшем "54f1947" (сместить указатель)</li>
        <li>3. git switch -c "имя удаленной ветки"</li>

        <h3>Настройка игнорируемых файлов:</h3>
        <li>1. Создать файл gitignore (без расширения)</li>
        <li>2. Перечислить в нём игнорируемые файлы. (для игнорирования нескольких файлов можно использовать *.txt и
            подобные конструкции)</li>
        <li>3. !"имяФайла" - файл не должен игнорироваться</li>
        <li>4. "имяПапки"/* - игнорировать папку и все файлы в ней</li>

        <h3>Работа со стешем:</h3>
        <li>git stash - сохраняет неподготовленные изменения в стеше (локальном хранилище на ПК) и позволяет к ним
            вернуться по потребности. Возвращаемся к состоянию последнего коммита</li>
        <li>git stash show - показывает, что находится внутри локального хранилища</li>
        <li>git stash list - показывает, все изменения внутри локального хранилища</li>
        <li>git stash apply - достанет из локального хранилища последнее сохранение</li>
        <li>git stash apply 2 - достанет из локального хранилища сохранение под индексом "2". (0 - самое последнее
            сохранение)</li>
        <li>git stash push -m "комментарий" сохраняет неподготовленные изменения с комментарием в стеше</li>
        <li>git stash pop 0 - добавляет в проект изменения под индексом "0" из стеша. При этом удаляет их из стеша</li>
        <li>git stash drop 0 - удалить изменения с индексом "0" из стеша</li>
        <li>git stash clear - очистить стеш</li>

        <h3>Git + Gitlab</h3>
        <li>git pull - получить ветки из облака на локальный ПК</li>
        <li>git config --local user.name "Victor Dar" - добавить имя</li>
        <li>git config --local user.email "victordar1992@gmail.com" - добавить почту</li>
        <li>git remote set-url origin https://gitlab.com/victordar1992/gitlab-basics.git - установить связь с удаленным
            репозиторием. origin - имя удаленной машины или алиас ссылки на удаленный репозиторий</li>
        <li>git push --set-upstream origin --all - перенести локальные изменения в облако (--set-upstream устанавливает
            связь между локальной и удаленной ветками, что позволяет в дальнейшем использовать простые команды `git
            pull` и `git push` без указания имени удаленного репозитория и ветки.)</li>
        <li>git push (только после установления связи)</li>
        <li>git branch -a - выводит список всех доступных веток в репозитории Git, как локальных, так и удаленных</li>
        <li>git ls-remote - показать все ветки, включая ветки в удаленном репозитории</li>
        <li>git fetch - обновить статус без слияния данных существующей структуры</li>
        <li>git fetch origin - актуализация локального репозитория</li>
        <li>git pull origin имя_ветки - получить изменения из удаленного репозитория в логальную ветку</li>
        <li>git branch --track feature-remote-local origin/feature-remote - "origin/feature-remote" - ветка, из которой
            создается новая локальная !отслеживаемая! ветка "feature-remote-local"</li>
        <li>git branch -vv показать, какие ветки являются локально отслеживаемыми</li>
        <li>git remote - показывает удаленные серверы</li>
        <li>git remote show origin - показывает детальную информацию о всех ветках (как мы настроили git pull)</li>

        <h3>Клонирование репозитория</h3>
        <li>git clone https://gitlab.com/victordar1992/gitlab-basics.git</li>
        <li>git branch --track origin/feature remotes/origin/feature - получить ветку "remotes/origin/feature" и создать
            на её основе локальную ветку "origin/feature". Связь позволяет пушить и пулить.</li>

        <h3>Как создать новую ветку и установить связь с гитлаб:</h3>
        <li>git branch feature-local</li>
        <li>git push origin feature-local - запушить новую локальную ветку в удаленный репозиторий</li>
        <li>git checkout master</li>
        <li>git branch -D feature-local</li>
        <li>git branch --track origin/feature-local remotes/origin/feature-local</li>

        <h3>Удаление ветки</h3>
        <li>git branch --delete --remotes origin/feature - удалить локальную удаленную отслеживаемую ветку</li>
        <li>git push origin --delete feature - удалить удаленную ветку (в гитлабе)</li>

        <h3>Настройка доступа. SSH на Windows для Github.</h3>
        <li>Запустить Git bash.</li>
        <li>Ввести команду ssh-keygen. Отображается путь, где будет сохранен ssh-ключ.</li>
        <li>Далее ввести пароль доступа, подтвердить повторным вводом.(обычно пароль можно и не ставить).</li>
        <li>Зайти в директорию, где сохранен ключ(расширение .pub), открыть его в блокноте.</li>
        <li>Скопировать ключ.</li>
        <li>Настройки аккаунта Github –> SHH anf GPG keys –>New SSH key –> добавить ключ.</li>
        <li>В Git bash –> ssh -T git@github.com–> ввести пароль, если он есть.</li>
    </ul>
    </p>
</body>
</html>